<div *ngIf="showToast" class="toast-message toast-error">
  {{ toastMessage }}
</div>

<div class="container mt-4">
  <div *ngIf="wishlist.length === 0" class="text-center text-white">
    <h4>Your wishlist is empty.</h4>

     <button class="btn-back" [routerLink]="['/movies']">
      <i class="fas fa-arrow-left me-2"></i> Back to Movies
    </button>
  </div>

  <div class="row row-cols-1 row-cols-md-2 row-cols-lg-4 g-4" *ngIf="wishlist.length > 0">
    <div class="col" *ngFor="let movie of wishlist">
      <div class="card h-100 movie-card">
        <div class="position-relative">
          <img
            [src]="movie.poster_path ? 'https://image.tmdb.org/t/p/w500' + movie.poster_path : 'https://via.placeholder.com/400x600?text=No+Image'"
            class="card-img-top"
            [alt]="movie.title"
            [title]="movie.title" />

          <button class="btn-wishlist" (click)="removeFromWishlist(movie.id)" title="Remove from wishlist">
            <i class="fas fa-heart active"></i>
          </button>

          <div class="movie-overlay">
            <div class="movie-info">
              <div class="rating">
                <i class="fas fa-star"></i>
                <span>{{ movie.vote_average }}</span>
              </div>
              <span class="release-date">{{ movie.release_date | date:'yyyy' }}</span>
            </div>
          </div>
        </div>

        <div class="card-body">
          <h5 class="card-title text-truncate">{{ movie.title }}</h5>
        </div>

        <a [routerLink]="['/movie', movie.id]" class="stretched-link"></a>
      </div>
    </div>
  </div>
</div>
